# /etc/rancher/k3s/config.yaml
# /etc/rancher/rke2/config.yaml
---
write-kubeconfig-mode: "0600"
node-label: []
cni:
  - cilium

disable:
  - rke2-ingress-nginx

# Internal Network IP
node-ip: 192.168.2.70
bind-address: 192.168.2.70
node-external-ip: 192.168.2.70
advertise-address: 192.168.2.70
tls-san:
  - 192.168.2.70

# Required for l2 IP Announcement
disable-kube-proxy: true
kube-apiserver-arg:
  - "default-not-ready-toleration-seconds=30"
  - "default-unreachable-toleration-seconds=30"
kubelet-arg:
  - "max_pods=150"
  - "cpuManagerPolicy=static"
  - "kube-reserved=cpu=1,memory=2Gi,ephemeral-storage=1Gi"
  - "system-reserved=cpu=1,memory=2Gi,ephemeral-storage=1Gi"
